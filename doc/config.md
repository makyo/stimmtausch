---
layout: default
title: Configuration
---

## Configuration

Files are read in order from:

* `/etc/stimmtausch/st.yaml`
* `/etc/stimmtausch/conf.d/*`
* `$HOME/.config/stimmtausch/*.st.*`
* `$HOME/.config/stimmtausch/*/*.st.*`
* `$HOME/.strc`

Any values showing up in later files override values in earlier files. See [snuffler](https://github.com/makyo/snuffler) for more on that.

Files can be YAML, TOML, or JSON.

```go
// Config holds all the configuration for Stimmtausch.
// For information about what the settings are used for and how they should
// appear, see the files in _conf
type Config struct {
	// Version of the configuration structure.
	Version int

	// A list of server types (MUCK, MUD, etc), dictating how to connect.
	ServerTypes map[string]ServerType `yaml:"server_types" toml:"server_types"`

	// A list of servers.
	Servers map[string]Server

	// A list of worlds (characters/users/accounts/etc) tying login information
	// to servers.
	Worlds map[string]World

	// Information regarding how Stimmtausch runs.
	Client struct {

		// Information regarding the logging generated by the program (as
		// opposed to the connections).
		Syslog struct {

			// Whether or not to show the system log in a pane in the UI.
			ShowSyslog bool `yaml:"show_syslog" toml:"log_level"`

			// Lowest log level to show by default. Options are:
			// TRACE, DEBUG, INFO*, WARNING, ERROR, CRITICAL
			LogLevel string `yaml:"log_level" toml:"log_level"`
		}

		// Information regarding logging from connections.
		Logging struct {

			// The time format to use when logging times.
			TimeString string `yaml:"time_string" toml:"time_string"`

			// Whether or not to log timestamps.
			LogTimestamps bool `yaml:"log_timestamps" toml"log_timestamps"`

			// Whether or not to keep logs of the connection after disconnect.
			LogWorld bool `yaml:"log_world" toml:"log_world"`
		}

		// Information regarding the user interface.
		UI struct {

			// How many lines of scrollback (data received) to keep in memory.
			Scrollback int

			// How many lines of history (data sent) to keep in memory.
			History int

			// Whether or not to use a unified history buffer for all
			// connections, or one per.
			UnifiedHistoryBuffer bool
		}
	}
}

// World represents the union between a server and a character.
type World struct {
	// The key for the world in the configuration file.
	Name string

	// A free-form display name for the world.
	DisplayName string

	// The server to which this world belongs.
	Server string

	// The username and password to connect with.
	Username, Password string

	// Whether or not to maintain a rotated log of each connection to this world.
	Log bool
}

// Server represents information required to connect to a remote server.
type Server struct {
	// The key for the server in the configuration file.
	Name string

	// The hostname for the server.
	Host string

	// The port to connect to.
	Port uint

	// Whether or not to use SSL.
	SSL bool

	// Whether or not self-signed certs should be trusted.
	Insecure bool

	// The type of server (MUCK, MUSH, etc...) this is.
	ServerType string
}

// ServerType represents a type of server (MUCK, MUSH, etc...), which mostly
// boils down to things such as how to connect to it, etc.
type ServerType struct {
	Name             string
	ConnectString    string
	DisconnectString string
}
```

